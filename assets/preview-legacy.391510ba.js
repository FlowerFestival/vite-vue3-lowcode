var __vite_style__=document.createElement("style");__vite_style__.innerHTML=".h5-preview{overflow:hidden}.h5-preview .el-dialog__header{display:none}.h5-preview .simulator{padding-right:0}.h5-preview .simulator::-webkit-scrollbar{width:0}",document.head.appendChild(__vite_style__),System.register(["./visual.config-legacy.c3b2d620.js","./preload-helper-legacy.bf0927b3.js","./preview-legacy.626d295c.js"],(function(e){"use strict";var n,t,o,l,i,r,a,s,c,u,d,p,m,v,f,y,g,h,b,C,w,k,S,O,_,j,P,x,z,N,T,B;return{setters:[function(e){n=e.e,t=e.f,o=e.h,l=e.P,i=e.j,r=e.I,a=e.L,s=e.k,c=e.l,u=e.w,d=e.m,p=e.v},function(e){m=e.k,v=e.a,f=e.v,y=e.d,g=e.w,h=e.t,b=e.n,C=e.z,w=e.E,k=e.l,S=e.q,O=e.e,_=e.o,j=e.b,P=e.af,x=e.aA,z=e.f,N=e.F,T=e.X},function(e){B=e.r}],execute:function(){var L=0;var[M,A]=i("toast"),E=y({name:M,props:{icon:String,show:Boolean,overlay:Boolean,message:[Number,String],iconSize:[Number,String],className:o,iconPrefix:String,loadingType:String,forbidClick:Boolean,overlayClass:o,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,type:{type:String,default:"text"},duration:{type:Number,default:2e3},position:{type:String,default:"middle"},transition:{type:String,default:"van-fade"}},emits:["update:show"],setup(e,{emit:n}){var t,o=!1,i=()=>{var n=e.show&&e.forbidClick;o!==n&&((o=n)?(L||document.body.classList.add("van-toast--unclickable"),L++):L&&(--L||document.body.classList.remove("van-toast--unclickable")))},c=e=>n("update:show",e),u=()=>{e.closeOnClick&&c(!1)},d=()=>{clearTimeout(t)},p=()=>{var{icon:n,type:t,iconSize:o,iconPrefix:l,loadingType:i}=e;return n||"success"===t||"fail"===t?C(r,{name:n||t,size:o,class:A("icon"),classPrefix:l},null):"loading"===t?C(a,{class:A("loading"),size:o,type:i},null):void 0},m=()=>{var{type:n,message:t}=e;if(s(t)&&""!==t)return"html"===n?C("div",{class:A("text"),innerHTML:String(t)},null):C("div",{class:A("text")},[t])};return g((()=>[e.show,e.forbidClick]),i),g((()=>[e.show,e.type,e.message,e.duration]),(()=>{d(),e.show&&e.duration>0&&(t=setTimeout((()=>{c(!1)}),e.duration))})),h(i),b(i),()=>C(l,w({show:e.show,class:[A([e.position,{[e.type]:!e.icon}]),e.className],overlay:e.overlay,lockScroll:!1,transition:e.transition,overlayClass:e.overlayClass,overlayStyle:e.overlayStyle,closeOnClickOverlay:e.closeOnClickOverlay,onClick:u,onClosed:d},{"onUpdate:show":c}),{default:()=>[p(),m()]})}}),I={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1},D=[],R=!1,H=n({},I),K={};function U(e){return d(e)?e:{message:e}}function q(){var e,o,{instance:l,unmount:i}=(e=m({setup(){var e=k(""),{open:o,state:r,close:a,toggle:s}=function(){var e=v({show:!1}),o=n=>{e.show=n},l=t=>{n(e,t),f((()=>o(!0)))},i=()=>o(!1);return t({open:l,close:i,toggle:o}),{open:l,close:i,state:e,toggle:o}}(),c=()=>{R&&(D=D.filter((e=>e!==l)),i())};return S().render=()=>{var n={onClosed:c,"onUpdate:show":s};return e.value&&(n.message=e.value),C(E,w(r,n),null)},{open:o,clear:a,message:e}}}),o=document.createElement("div"),document.body.appendChild(o),{instance:e.mount(o),unmount(){e.unmount(),document.body.removeChild(o)}});return l}function F(e={}){if(!c)return{};var t=function(){if(!D.length||R){var e=q();D.push(e)}return D[D.length-1]}(),o=U(e);return t.open(n({},H,K[o.type||H.type],o)),t}var J=e=>t=>F(n({type:e},U(t)));F.loading=J("loading"),F.success=J("success"),F.fail=J("fail"),F.clear=e=>{D.length&&(e?(D.forEach((e=>{e.clear()})),D=[]):R?D.shift().clear():D[0].clear())},F.setDefaultOptions=function(e,t){"string"==typeof e?K[e]=t:n(H,e)},F.resetDefaultOptions=e=>{"string"==typeof e?K[e]=null:(H=n({},I),K={})},F.allowMultiple=(e=!0)=>{R=e},F.install=e=>{e.use(u(E)),e.config.globalProperties.$toast=F};var X={name:"SlotItem",components:{CompRender:y({name:"CompRender",props:{element:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})}},setup:e=>()=>e.config.componentMap[e.element.componentKey].render({size:{},props:e.element.props||{},model:{},block:e.element,custom:{}})})},props:{element:{type:[Object,Array],default:()=>({})},config:{type:Object,default:()=>({})}}};X.render=function(e,n,t,o,l,i){var r;const a=O("slot-item",!0),s=O("comp-render");return _(),j("div",null,[C(s,{element:t.element,config:t.config},P({_:2},[x(null===(r=t.element.props)||void 0===r?void 0:r.slots,((e,n)=>({name:n,fn:z((()=>[(_(!0),j(N,null,x(null==e?void 0:e.children,(e=>(_(),j(a,{key:e._vid,element:e,config:t.config},null,8,["element","config"])))),128))]))})))]),1032,["element","config"])])};e("default",y({name:"Preview",components:{SlotItem:X},setup(){var e;const n=JSON.parse(localStorage.getItem("jsonData"));n&&Object.keys(n.pages)||F.fail("当前没有可以预览的页面！");const t=B.currentRoute,o=v({currentPage:null===(e=n.pages[t.value.path])||void 0===e?void 0:e.blocks});o.currentPage||B.replace("/");const l=e=>{if(Array.isArray(e))return e.map((e=>l(e)));return p.componentMap[e.componentKey].render({size:{},props:e.props||{},block:e,model:{},custom:{}})};return{...T(o),visualConfig:p,renderCom:l}}})).render=function(e,n,t,o,l,i){const r=O("slot-item");return _(!0),j(N,null,x(e.currentPage,(n=>(_(),j(r,{key:n._vid,element:n,config:e.visualConfig},null,8,["element","config"])))),128)}}}}));
