var e=Object.defineProperty,l=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,t=Object.prototype.propertyIsEnumerable,o=(l,a,t)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[a]=t,n=(e,n)=>{for(var r in n||(n={}))l.call(n,r)&&o(e,r,n[r]);if(a)for(var r of a(n))t.call(n,r)&&o(e,r,n[r]);return e};import{d as r,p as s,a as i,o as d,c as u,b as c,r as p,w as b,e as m,f,g,h as v,F as h,i as y,u as w,l as V,j as _,t as k,_ as x,k as j,m as C,n as O,q as S,s as z,v as D,B as M,x as N,y as P,C as U,z as $,P as R,D as W,N as T,A as E,E as q,G as I,R as B,H as F,I as K,J as L,K as A,L as H,S as G,M as J,O as X,Q as Y,T as Q,U as Z,V as ee,W as le,X as ae,Y as te,Z as oe,$ as ne,a0 as re,a1 as se,a2 as ie,a3 as de,a4 as ue,a5 as ce,a6 as pe,a7 as be,a8 as me,a9 as fe,aa as ge,ab as ve,ac as he,ad as ye,ae as we,af as Ve,ag as _e,ah as ke,ai as xe,aj as je,ak as Ce,al as Oe,am as Se,an as ze,ao as De,ap as Me,aq as Ne,ar as Pe,as as Ue,at as $e,au as Re,av as We,aw as Te,ax as Ee,ay as qe,az as Ie,aA as Be}from"./json.worker.831152f3.js";!function(e=".",l="__import__"){try{self[l]=new Function("u","return import(u)")}catch(a){const t=new URL(e,location),o=e=>{URL.revokeObjectURL(e.src),e.remove()};self[l]=e=>new Promise(((a,n)=>{const r=new URL(e,t);if(self[l].moduleMap[r])return a(self[l].moduleMap[r]);const s=new Blob([`import * as m from '${r}';`,`${l}.moduleMap['${r}']=m;`],{type:"text/javascript"}),i=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(s),onerror(){n(new Error(`Failed to import: ${e}`)),o(i)},onload(){a(self[l].moduleMap[r]),o(i)}});document.head.appendChild(i)})),self[l].moduleMap={}}}("/vite-vue3-lowcode/assets/");var Fe=r({name:"Simulator"});const Ke=b();s("data-v-58978048");const Le={class:"simulator-container"},Ae={class:"simulator-editor"};i();const He=Ke(((e,l)=>(d(),u("div",Le,[c("div",Ae,[p(e.$slots,"default",{},void 0,!0)])]))));Fe.render=He,Fe.__scopeId="data-v-58978048";var Ge={name:"SlotItem",components:{CompRender:r({name:"CompRender",props:{element:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})}},setup:e=>()=>e.config.componentMap[e.element.componentKey].render({size:{},props:e.element.props||{},model:{},block:e.element,custom:{}})})},props:{element:{type:[Object,Array],default:()=>({})},config:{type:Object,default:()=>({})}}};Ge.render=function(e,l,a,t,o,n){var r;const s=m("slot-item",!0),i=m("comp-render");return d(),u("div",null,[c(i,{element:a.element,config:a.config},f({_:2},[g(null==(r=a.element.props)?void 0:r.slots,((e,l)=>({name:l,fn:v((()=>[(d(!0),u(h,null,g(null==e?void 0:e.children,(e=>(d(),u(s,{key:e._vid,element:e,config:a.config},null,8,["element","config"])))),128))]))})))]),1032,["element","config"])])};var Je=r({name:"Preview",components:{Simulator:Fe,SlotItem:Ge},props:{visible:{type:Boolean,default:!1},jsonData:{type:Object,default:()=>({})},config:{type:Object,required:!0}},emits:["update:visible"],setup(e,{emit:l}){const a=y({dialogVisible:w(e,"visible",l),jsonDataClone:V.cloneDeep(e.jsonData)});_((()=>a.dialogVisible),(l=>{l&&(a.jsonDataClone=V.cloneDeep(e.jsonData))}));const t=l=>{if(Array.isArray(l))return l.map((e=>t(e)));return e.config.componentMap[l.componentKey].render({size:{},props:l.props||{},block:l,model:{},custom:{}})};return n(n({},k(a)),{renderCom:t})}});Je.render=function(e,l){const a=m("slot-item"),t=m("simulator"),o=x;return d(),u(o,{modelValue:e.dialogVisible,"onUpdate:modelValue":l[1]||(l[1]=l=>e.dialogVisible=l),"custom-class":"h5-preview","show-close":!1,width:"30%"},{default:v((()=>[c(t,{class:"simulator"},{default:v((()=>[(d(!0),u(h,null,g(e.jsonDataClone.blocks,(l=>(d(),u(a,{key:l._vid,element:l,config:e.config},null,8,["element","config"])))),128))])),_:1})])),_:1},8,["modelValue"])};var Xe=r({name:"Header",components:{Preview:Je},props:{jsonData:{type:Object,default:()=>({})},config:{type:Object,required:!0}},setup(){const e=y({isShowH5Preview:!1});return n({},k(e))}});const Ye=b();s("data-v-722ae5f0");const Qe=c("div",{class:"logo"},null,-1),Ze=c("h3",{class:"font-semibold"},"H5低代码",-1),el=c("div",null,null,-1);i();const ll=Ye(((e,l,a,t,o,n)=>{const r=j,s=C,i=O,p=S,b=m("preview");return d(),u(h,null,[c(p,{type:"flex",class:"header"},{default:Ye((()=>[c(r,{span:6,class:"flex items-center"},{default:Ye((()=>[Qe,Ze])),_:1}),c(r,{span:12},{default:Ye((()=>[el])),_:1}),c(r,{span:6,class:"flex flex-row-reverse items-center"},{default:Ye((()=>[c(i,{class:"item",effect:"dark",content:"运行",placement:"bottom"},{default:Ye((()=>[c(s,{type:"primary",icon:"el-icon-video-play",circle:"",class:"flex-shrink-0",onClick:l[1]||(l[1]=l=>e.isShowH5Preview=!0)})])),_:1})])),_:1})])),_:1}),c(b,{visible:e.isShowH5Preview,"onUpdate:visible":l[2]||(l[2]=l=>e.isShowH5Preview=l),"json-data":e.jsonData,config:e.config},null,8,["visible","json-data","config"])],64)}));Xe.render=ll,Xe.__scopeId="data-v-722ae5f0";const al=[{name:"pages",icon:"el-icon-tickets",label:"页面",componentName:"PageTree"},{name:"base-widget",icon:"el-icon-edit",label:"基础控件",componentName:"BaseWidgets"},{name:"complex-component",icon:"el-icon-suitcase",label:"容器组件",componentName:"ContainerComponent"},{name:"custom-component",icon:"el-icon-upload",label:"自定义组件",componentName:"custom-component"}],tl=(e,l)=>{const a=l.split("."),t=a.length>1;return{prop:a.pop(),propObj:a.reduce(((e,l)=>{var a;return null!=(a=e[l])?a:e[l]={}}),e),isDotProp:t}};function ol({component:e,left:l,top:a}){return e._vid=`${e._vid}`.startsWith("vid_")?e._vid:`vid_${e._vid}`,{top:a,left:l,_vid:e._vid,moduleName:e.moduleName,componentKey:e.key,label:e.label,adjustPosition:!0,focus:!1,zIndex:0,width:0,height:0,hasResize:!1,props:Object.keys(e.props||{}).reduce(((l,a)=>{var t,o;const{propObj:n,prop:r}=tl(l,a);return(null==(t=e.props[a])?void 0:t.defaultValue)&&(n[r]=l[a]=null==(o=e.props[a])?void 0:o.defaultValue),l}),{}),model:{}}}let nl;var rl;function sl({label:e,defaultValue:l,tips:a}){return{type:nl.switch,label:e,tips:a,defaultValue:l}}function il({label:e,defaultValue:l,tips:a}){return{type:nl.input,label:e,tips:a,defaultValue:l}}function dl({label:e,defaultValue:l,tips:a}){return{type:nl.inputNumber,label:e,tips:a,defaultValue:l}}function ul({label:e,options:l,defaultValue:a,tips:t}){return{type:nl.select,label:e,defaultValue:a,tips:t,options:l}}function cl({label:e,option:l,defaultValue:a}){return{type:nl.table,label:e,table:l,defaultValue:a}}(rl=nl||(nl={})).input="input",rl.inputNumber="InputNumber",rl.color="color",rl.select="select",rl.table="table",rl.switch="switch";const pl=()=>{const e=z().appContext.config.globalProperties;return{globalProperties:e,registerRef:(l,a)=>l&&(e.$$refs[a]=l)}};var bl={key:"button",moduleName:"baseWidgets",label:"按钮",preview:()=>c(M,{type:"primary"},{default:()=>[N("按钮")]}),render:({props:e,block:l,size:a})=>{const{registerRef:t}=pl();return c(M,D({ref:e=>t(e,l._vid),style:{height:a.height?`${a.height}px`:null,width:a.width?`${a.width}px`:null}},e),null)},resize:{height:!0,width:!0},props:{text:il({label:"按钮文字",defaultValue:"按钮"}),type:ul({label:"按钮类型",options:[{label:"主要按钮",val:"primary"},{label:"成功按钮",val:"success"},{label:"默认按钮",val:"default"},{label:"警告按钮",val:"warning"},{label:"危险按钮",val:"danger"}],defaultValue:"default"}),size:ul({label:"按钮尺寸",options:[{label:"大型",val:"large"},{label:"普通",val:"normal"},{label:"小型",val:"small"},{label:"迷你",val:"mini"}],defaultValue:"normal"}),"native-type":ul({label:"原生button的type属性",options:[{label:"普通button",val:"button"},{label:"表单提交按钮",val:"submit"}],defaultValue:"button"}),square:sl({label:"是否为方形按钮"}),block:sl({label:"是否为块级元素",defaultValue:!1}),color:il({label:"按钮颜色",tips:"按钮颜色，支持传入 linear-gradient 渐变色"}),disabled:sl({label:"是否禁用按钮"}),hairline:sl({label:"是否使用 0.5px 边框"}),icon:il({label:"左侧图标名称或图片链接"}),"icon-position":ul({label:"图标展示位置",options:[{label:"左侧",val:"left"},{label:"右侧",val:"right"}]}),"icon-prefix":il({label:"图标类名前缀",tips:"图标类名前缀，同 Icon 组件的 class-prefix 属性"}),loading:sl({label:"是否显示为加载状态"}),"loading-size":il({label:"加载图标大小"}),"loading-text":il({label:"加载状态提示文字"}),"loading-type":ul({label:"加载图标类型",options:[{label:"circular",val:"circular"},{label:"spinner",val:"spinner"}],defaultValue:"circular"}),plain:sl({label:"是否为朴素按钮"}),replace:sl({label:"是否在跳转时替换当前页面历史"}),round:sl({label:"是否为圆形按钮"}),to:il({label:"路由跳转"}),url:il({label:"跳转链接"})}},ml=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:bl});var fl={key:"checkbox",moduleName:"baseWidgets",label:"表单项类型 - 复选框",preview:()=>c($,{modelValue:["1"],direction:"horizontal"},{default:()=>[c(U,{name:"1",shape:"square"},{default:()=>[N("one")]}),c(U,{name:"2",shape:"square"},{default:()=>[N("two")]})]}),render:({size:e,block:l,props:a})=>{const{registerRef:t}=pl();return c(P,D(a,{modelValue:"",style:{width:e.width?`${e.width}px`:null}}),{input:()=>c($,D({ref:e=>t(e,l._vid)},a,{modelValue:a.modelValue,"onUpdate:modelValue":e=>a.modelValue=e}),{default:()=>{var e;return[null==(e=a.options)?void 0:e.map((e=>c(U,{name:e.value,style:{marginBottom:"5px"},shape:"square"},{default:()=>[e.label]})))]}})})},props:n({modelValue:il({label:"默认值",defaultValue:[]}),name:il({label:"名称，提交表单的标识符",defaultValue:"checkbox"}),label:il({label:"输入框左侧文本",defaultValue:"复选框"}),options:cl({label:"默认选项",option:{options:[{label:"显示值",field:"label"},{label:"绑定值",field:"value"},{label:"备注",field:"comments"}],showKey:"label"},defaultValue:[{label:"萝卜",value:"radish"},{label:"青菜",value:"greens"}]}),direction:ul({label:"排列方向",options:[{label:"水平",val:"horizontal"},{label:"垂直",val:"vertical"}],defaultValue:"horizontal"})},{colon:sl({label:"是否在 label 后面添加冒号"}),"error-message":il({label:"底部错误提示文案"}),"error-message-align":ul({label:"错误提示文案对齐方式",options:[{label:"左对齐",val:"left"},{label:"居中",val:"center"},{label:"右对齐",val:"right"}],defaultValue:"left"}),border:sl({label:"是否显示内边框",defaultValue:!0}),readonly:sl({label:"是否为只读状态"}),required:sl({label:"是否显示表单必填星号"}),rules:il({label:"表单校验规则"})}),resize:{width:!0},model:{default:"绑定字段"}},gl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:fl});var vl={key:"datetimePicker",moduleName:"baseWidgets",label:"表单项类型 - 选择器",preview:()=>c(P,{name:"datetimePicker",label:"时间选择器",placeholder:"点击选择"},null),render:({size:e,block:l,props:a})=>{const{registerRef:t}=pl(),o=y({showPicker:!1,text:""}),n={text:"label",value:"value"},r=e=>{a.modelValue=e.value,o.text=e[a.valueKey||"text"],o.showPicker=!1,console.log(a)};return c(h,null,[c((()=>c(h,null,[c(P,D({modelValue:a.modelValue,"onUpdate:modelValue":e=>a.modelValue=e},a,{readonly:!0,clickable:!0,onClick:()=>o.showPicker=!0,style:{width:e.width?`${e.width}px`:null}}),{input:()=>{var e;return""==(null==(e=o.text)?void 0:e.trim())?c("span",{class:"placeholder"},[a.placeholder]):o.text}}),c(R,{show:o.showPicker,showModifiers:{modifier:!0},"onUpdate:show":e=>o.showPicker=e,position:"bottom"},{default:()=>[c(W,D({ref:e=>t(e,l._vid)},a,{columnsFieldNames:n,onConfirm:r,onCancel:()=>o.showPicker=!1}),null)]})])),null,null)])},props:n({modelValue:il({label:"默认值"}),name:il({label:"名称，提交表单的标识符",defaultValue:"datetimePicker"}),label:il({label:"输入框左侧文本",defaultValue:"时间选择器"}),columns:cl({label:"数据项",option:{options:[{label:"显示值",field:"label"},{label:"绑定值",field:"value"},{label:"备注",field:"comments"}],showKey:"label"},defaultValue:[{label:"杭州",value:"hangzhou"},{label:"上海",value:"shanghai"}]}),valueKey:il({label:"选项对象的键名",defaultValue:"label"}),placeholder:il({label:"占位符",defaultValue:"请选择"})},{colon:sl({label:"是否在 label 后面添加冒号"}),"error-message":il({label:"底部错误提示文案"}),"error-message-align":ul({label:"错误提示文案对齐方式",options:[{label:"左对齐",val:"left"},{label:"居中",val:"center"},{label:"右对齐",val:"right"}],defaultValue:"left"}),border:sl({label:"是否显示内边框",defaultValue:!0}),readonly:sl({label:"是否为只读状态"}),required:sl({label:"是否显示表单必填星号"}),rules:il({label:"表单校验规则"})}),resize:{width:!0},model:{default:"绑定字段"}},hl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:vl}),yl={key:"image",moduleName:"baseWidgets",label:"图片",resize:{width:!0,height:!0},render:({props:e,size:l})=>c("div",{style:{height:`${l.height||100}px`,width:`${l.width||100}px`},class:"visual-block-image"},[c("img",{src:e.url||"https://cn.vuejs.org/images/logo.png"},null)]),preview:()=>c("div",{style:"text-align:center;"},[c("div",{style:"font-size:20px;background-color:#f2f2f2;color:#ccc;display:inline-flex;width:100px;height:50px;align-items:center;justify-content:center"},[c("i",{class:"el-icon-picture"},null)])]),props:{url:il({label:"地址"})}},wl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yl});var Vl={key:"input",moduleName:"baseWidgets",label:"表单项类型 - 输入框",preview:()=>c(P,{name:"用户名",label:"用户名",labelWidth:50,colon:!0,placeholder:"请输入用户名"},null),render:({model:e,size:l,block:a,props:t,custom:o})=>{const{registerRef:n}=pl();return c(P,D({ref:e=>n(e,a._vid)},o,t,e.default,{modelValue:t.modelValue,"onUpdate:modelValue":e=>t.modelValue=e,style:{width:l.width?`${l.width}px`:null}}),null)},props:{modelValue:il({label:"默认值",defaultValue:""}),name:il({label:"名称，提交表单的标识符",defaultValue:"input"}),label:il({label:"输入框左侧文本",defaultValue:"输入框"}),type:ul({label:"输入框类型",options:[{label:"文本",val:"text"},{label:"数字",val:"number"},{label:"文本域",val:"textarea"},{label:"密码",val:"password"},{label:"电话",val:"tel"},{label:"小数点",val:"digit"}],defaultValue:"text"}),placeholder:il({label:"占位提示文字",defaultValue:"请输入"}),colon:sl({label:"是否在 label 后面添加冒号"}),disabled:sl({label:"是否禁用输入框"}),error:sl({label:"是否将输入内容标红"}),"error-message":il({label:"底部错误提示文案"}),"error-message-align":ul({label:"错误提示文案对齐方式",options:[{label:"左对齐",val:"left"},{label:"居中",val:"center"},{label:"右对齐",val:"right"}],defaultValue:"left"}),readonly:sl({label:"是否为只读状态"}),required:sl({label:"是否显示表单必填星号"}),"right-icon":il({label:"右侧图标名称或图片链接"}),rules:il({label:"表单校验规则"}),"left-icon":il({label:"左侧图标名称或图片链接"}),"arrow-direction":il({label:"箭头方向",defaultValue:"",tips:"箭头方向，可选值为 left up down"}),autosize:sl({label:"自适应内容高度",defaultValue:!1,tips:"是否自适应内容高度，只对 textarea 有效，可传入对象,如 { maxHeight: 100, minHeight: 50 }，单位为px"}),border:sl({label:"是否显示内边框",defaultValue:!0}),center:sl({label:"内容垂直居中"}),"clear-icon":il({label:"清除图标",tips:"清除图标名称或图片链接"}),"clear-trigger":ul({label:"清除图标显示时机",options:[{label:"输入框不为空时展示",val:"always"},{label:"输入框聚焦且不为空时展示",val:"focus"}],defaultValue:"always",tips:"显示清除图标的时机，always 表示输入框不为空时展示，focus 表示输入框聚焦且不为空时展示"}),clearable:sl({label:"是否启用清除图标",defaultValue:!1,tips:"是否启用清除图标，点击清除图标后会清空输入框"}),clickable:sl({label:"是否开启点击反馈"}),"format-trigger":il({label:"格式化函数触发的时机"}),formatter:il({label:"输入内容格式化函数"}),"icon-prefix":il({label:"图标类名前缀",tips:"图标类名前缀，同 Icon 组件的 class-prefix 属性"}),"input-align":ul({label:"输入框对齐方式",options:[{label:"左对齐",val:"left"},{label:"居中",val:"center"},{label:"右对齐",val:"right"}],defaultValue:"left"}),"label-align":ul({label:"左侧文本对齐方式",options:[{label:"左对齐",val:"left"},{label:"居中",val:"center"},{label:"右对齐",val:"right"}],defaultValue:"left"}),"label-width":il({label:"左侧文本宽度"}),maxlength:il({label:"输入的最大字符数"}),"show-word-limit":sl({label:"是否显示字数统计",tips:"需要设置 maxlength 属性"})},resize:{width:!0},model:{default:"绑定字段"}},_l=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Vl}),kl={key:"nav-bar",moduleName:"baseWidgets",label:"导航栏",preview:()=>c(T,{title:"标题","left-text":"返回","right-text":"按钮","left-arrow":!0,style:{width:"100%"}},null),render:({props:e,size:l,block:a,custom:t})=>{const{registerRef:o}=pl();return c(T,D({ref:e=>o(e,a._vid),placeholder:!0},t,e,{style:{width:l.width?`${l.width}px`:null}}),null)},props:{title:il({label:"标题",defaultValue:"标题"}),fixed:sl({label:"是否固定",defaultValue:!0}),placeholder:sl({label:"是否生成占位元素",defaultValue:!0,tips:"固定在顶部时，是否在标签位置生成一个等高的占位元素"}),zIndex:il({label:"z-index"}),border:sl({label:"是否显示下边框",defaultValue:!1}),leftText:il({label:"左侧文案",defaultValue:"返回"}),rightText:il({label:"右侧文案",defaultValue:"按钮"}),leftArrow:sl({label:"是否显示左侧箭头",defaultValue:!0})},resize:{width:!0}},xl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:kl});const jl=r({props:{start:{type:String},end:{type:String}},emits:{"update:start":e=>!0,"update:end":e=>!0},setup(e){const l=w(e,"start"),a=w(e,"end");return()=>c("div",{class:"number-range"},[c("div",null,[E(c("input",{type:"text","onUpdate:modelValue":e=>l.value=e},null),[[q,l.value]])]),c("span",null,[N("~")]),c("div",null,[E(c("input",{type:"text","onUpdate:modelValue":e=>a.value=e},null),[[q,a.value]])])])}});var Cl={key:"number-range",moduleName:"baseWidgets",label:"数字范围输入框",resize:{width:!0},preview:()=>c(jl,{style:{width:"100%"}},null),render:({model:e,size:l})=>c(jl,D({style:{width:l.width?`${l.width}px`:null}},{start:e.start.value,"onUpdate:start":e.start.onChange,end:e.end.value,"onUpdate:end":e.end.onChange}),null),model:{start:"起始绑定字段",end:"截止绑定字段"}},Ol=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Cl});var Sl={key:"picker",moduleName:"baseWidgets",label:"表单项类型 - 选择器",preview:()=>c(P,{name:"picker",label:"选择器",placeholder:"点击选择"},null),render:({size:e,block:l,props:a})=>{const{registerRef:t}=pl(),o=y({showPicker:!1,text:""}),n={text:"label",value:"value"},r=e=>{a.modelValue=e.value,o.text=e[a.valueKey||"text"],o.showPicker=!1,console.log(a)};return c(h,null,[c((()=>c(h,null,[c(P,D({modelValue:a.modelValue,"onUpdate:modelValue":e=>a.modelValue=e},a,{readonly:!0,clickable:!0,onClick:()=>o.showPicker=!0,style:{width:e.width?`${e.width}px`:null}}),{input:()=>{var e;return""==(null==(e=o.text)?void 0:e.trim())?c("span",{class:"placeholder"},[a.placeholder]):o.text}}),c(R,{show:o.showPicker,showModifiers:{modifier:!0},"onUpdate:show":e=>o.showPicker=e,position:"bottom"},{default:()=>[c(I,D({ref:e=>t(e,l._vid)},a,{columnsFieldNames:n,onConfirm:r,onCancel:()=>o.showPicker=!1}),null)]})])),null,null)])},props:n({modelValue:il({label:"默认值"}),name:il({label:"名称，提交表单的标识符",defaultValue:"picker"}),label:il({label:"输入框左侧文本",defaultValue:"选择器"}),columns:cl({label:"数据项",option:{options:[{label:"显示值",field:"label"},{label:"绑定值",field:"value"},{label:"备注",field:"comments"}],showKey:"label"},defaultValue:[{label:"杭州",value:"hangzhou"},{label:"上海",value:"shanghai"}]}),valueKey:il({label:"选项对象的键名",defaultValue:"label"}),placeholder:il({label:"占位符",defaultValue:"请选择"})},{colon:sl({label:"是否在 label 后面添加冒号"}),"error-message":il({label:"底部错误提示文案"}),"error-message-align":ul({label:"错误提示文案对齐方式",options:[{label:"左对齐",val:"left"},{label:"居中",val:"center"},{label:"右对齐",val:"right"}],defaultValue:"left"}),border:sl({label:"是否显示内边框",defaultValue:!0}),readonly:sl({label:"是否为只读状态"}),required:sl({label:"是否显示表单必填星号"}),rules:il({label:"表单校验规则"})}),resize:{width:!0},model:{default:"绑定字段"}},zl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Sl});var Dl={key:"radio",moduleName:"baseWidgets",label:"表单项类型 - 单选框",preview:()=>c(F,{modelValue:"1",direction:"horizontal"},{default:()=>[c(B,{name:"1"},{default:()=>[N("one")]}),c(B,{name:"2"},{default:()=>[N("two")]})]}),render:({size:e,block:l,props:a})=>{const{registerRef:t}=pl();return c(P,D(a,{modelValue:"",style:{width:e.width?`${e.width}px`:null}}),{input:()=>c(F,D({ref:e=>t(e,l._vid)},a,{modelValue:a.modelValue,"onUpdate:modelValue":e=>a.modelValue=e}),{default:()=>{var e;return[null==(e=a.options)?void 0:e.map((e=>c(B,{name:e.value,style:{marginBottom:"5px"}},{default:()=>[e.label]})))]}})})},props:n({modelValue:il({label:"默认值",defaultValue:""}),name:il({label:"名称，提交表单的标识符",defaultValue:"radio"}),label:il({label:"输入框左侧文本",defaultValue:"单选框"}),options:cl({label:"默认选项",option:{options:[{label:"显示值",field:"label"},{label:"绑定值",field:"value"},{label:"备注",field:"comments"}],showKey:"label"},defaultValue:[{label:"萝卜",value:"radish"},{label:"青菜",value:"greens"}]}),direction:ul({label:"排列方向",options:[{label:"水平",val:"horizontal"},{label:"垂直",val:"vertical"}],defaultValue:"horizontal"})},{colon:sl({label:"是否在 label 后面添加冒号"}),"error-message":il({label:"底部错误提示文案"}),"error-message-align":ul({label:"错误提示文案对齐方式",options:[{label:"左对齐",val:"left"},{label:"居中",val:"center"},{label:"右对齐",val:"right"}],defaultValue:"left"}),border:sl({label:"是否显示内边框",defaultValue:!0}),readonly:sl({label:"是否为只读状态"}),required:sl({label:"是否显示表单必填星号"}),rules:il({label:"表单校验规则"})}),resize:{width:!0},model:{default:"绑定字段"}},Ml=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Dl});var Nl={key:"rate",moduleName:"baseWidgets",label:"表单项类型 - 单选框",preview:()=>c(P,{name:"rate",label:"评分",labelWidth:50},{input:()=>c(K,{modelValue:3},null)}),render:({size:e,block:l,props:a})=>{const{registerRef:t}=pl();return c(P,D(a,{modelValue:"",style:{width:e.width?`${e.width}px`:null}}),{input:()=>c(K,D({ref:e=>t(e,l._vid)},a,{modelValue:a.modelValue,"onUpdate:modelValue":e=>a.modelValue=e}),null)})},props:n({modelValue:dl({label:"默认值",defaultValue:0}),name:il({label:"名称，提交表单的标识符",defaultValue:"rate"}),label:il({label:"输入框左侧文本",defaultValue:"评分"}),count:dl({label:"图标总数"}),size:il({label:"图标大小"}),"allow-half":sl({label:"是否允许半选"})},{colon:sl({label:"是否在 label 后面添加冒号"}),"error-message":il({label:"底部错误提示文案"}),"error-message-align":ul({label:"错误提示文案对齐方式",options:[{label:"左对齐",val:"left"},{label:"居中",val:"center"},{label:"右对齐",val:"right"}],defaultValue:"left"}),border:sl({label:"是否显示内边框",defaultValue:!0}),readonly:sl({label:"是否为只读状态"}),required:sl({label:"是否显示表单必填星号"}),rules:il({label:"表单校验规则"})}),resize:{width:!0},model:{default:"绑定字段"}},Pl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Nl});var Ul={key:"select",moduleName:"baseWidgets",label:"下拉框",preview:()=>c(H,null,null),render:({props:e,model:l,custom:a})=>{let t;return c(H,D(a,{key:(e.options||[]).map((e=>e.value)).join(",")},l.default),"function"==typeof(o=t=(e.options||[]).map(((e,l)=>c(L,{label:e.label,value:e.value,key:l},null))))||"[object Object]"===Object.prototype.toString.call(o)&&!A(o)?t:{default:()=>[t]});var o},props:{options:cl({label:"下拉选项",option:{options:[{label:"显示值",field:"label"},{label:"绑定值",field:"value"},{label:"备注",field:"comments"}],showKey:"label"}})},model:{default:"绑定字段"}},$l=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ul});var Rl={key:"slider",moduleName:"baseWidgets",label:"表单项类型 - 滑块",preview:()=>c(P,{name:"rate",label:"滑块",labelWidth:50},{input:()=>c(G,{modelValue:3},null)}),render:({size:e,block:l,props:a})=>{const{registerRef:t}=pl();return c(P,D(a,{modelValue:"",style:{width:e.width?`${e.width}px`:null}}),{input:()=>c(G,D({ref:e=>t(e,l._vid)},a,{modelValue:a.modelValue,"onUpdate:modelValue":e=>a.modelValue=e}),null)})},props:n({modelValue:dl({label:"默认值",defaultValue:0}),name:il({label:"名称，提交表单的标识符",defaultValue:"slider"}),label:il({label:"输入框左侧文本",defaultValue:"滑块"}),min:dl({label:"最小值"}),max:dl({label:"最大值"}),size:dl({label:"图标大小"}),range:sl({label:"是否开启双滑块模式"})},{colon:sl({label:"是否在 label 后面添加冒号"}),"error-message":il({label:"底部错误提示文案"}),"error-message-align":ul({label:"错误提示文案对齐方式",options:[{label:"左对齐",val:"left"},{label:"居中",val:"center"},{label:"右对齐",val:"right"}],defaultValue:"left"}),border:sl({label:"是否显示内边框",defaultValue:!0}),readonly:sl({label:"是否为只读状态"}),required:sl({label:"是否显示表单必填星号"}),rules:il({label:"表单校验规则"})}),resize:{width:!0},model:{default:"绑定字段"}},Wl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Rl});var Tl={key:"stepper",moduleName:"baseWidgets",label:"表单项类型 - 单选框",preview:()=>c(P,{name:"stepper",label:"步进器",labelWidth:50},{input:()=>c(J,{modelValue:3},null)}),render:({size:e,block:l,props:a})=>{const{registerRef:t}=pl();return c(P,D(a,{modelValue:"",style:{width:e.width?`${e.width}px`:null}}),{input:()=>c(J,D({ref:e=>t(e,l._vid)},a,{modelValue:a.modelValue,"onUpdate:modelValue":e=>a.modelValue=e}),null)})},props:n({modelValue:dl({label:"默认值",defaultValue:0}),name:il({label:"名称，提交表单的标识符",defaultValue:"stepper"}),label:il({label:"输入框左侧文本",defaultValue:"步进器"}),min:dl({label:"最小值"}),max:dl({label:"最大值"})},{colon:sl({label:"是否在 label 后面添加冒号"}),"error-message":il({label:"底部错误提示文案"}),"error-message-align":ul({label:"错误提示文案对齐方式",options:[{label:"左对齐",val:"left"},{label:"居中",val:"center"},{label:"右对齐",val:"right"}],defaultValue:"left"}),border:sl({label:"是否显示内边框",defaultValue:!0}),readonly:sl({label:"是否为只读状态"}),required:sl({label:"是否显示表单必填星号"}),rules:il({label:"表单校验规则"})}),resize:{width:!0},model:{default:"绑定字段"}},El=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Tl});var ql,Il,Bl={key:"switch",moduleName:"baseWidgets",label:"表单项类型 - 开关",preview:()=>c(P,{name:"switch",label:"开关"},{input:()=>c(X,{size:20},null)}),render:({size:e,block:l,props:a})=>{const{registerRef:t}=pl();return c(P,D(a,{style:{width:e.width?`${e.width}px`:null}}),{input:()=>c(X,D({ref:e=>t(e,l._vid)},a,{modelValue:a.modelValue,"onUpdate:modelValue":e=>a.modelValue=e,size:20}),null)})},props:n({modelValue:il({label:"默认值",defaultValue:"false"}),name:il({label:"名称，提交表单的标识符",defaultValue:"switch"}),label:il({label:"输入框左侧文本",defaultValue:"开关"}),"active-color":il({label:"打开时的背景色"}),"active-value":il({label:"打开时对应的值"}),disabled:sl({label:"是否为禁用状态"}),"inactive-color":il({label:"关闭时的背景色"}),"inactive-value":il({label:"关闭时对应的值"}),loading:sl({label:"是否为加载状态"}),size:il({label:"开关尺寸"})},{colon:sl({label:"是否在 label 后面添加冒号"}),"error-message":il({label:"底部错误提示文案"}),"error-message-align":ul({label:"错误提示文案对齐方式",options:[{label:"左对齐",val:"left"},{label:"居中",val:"center"},{label:"右对齐",val:"right"}],defaultValue:"left"}),border:sl({label:"是否显示内边框",defaultValue:!0}),readonly:sl({label:"是否为只读状态"}),required:sl({label:"是否显示表单必填星号"}),rules:il({label:"表单校验规则"})}),resize:{width:!0},model:{default:"绑定字段"}},Fl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Bl}),Kl={key:"text",moduleName:"baseWidgets",label:"文本",preview:()=>c("span",null,[N("预览文本")]),render:({props:e})=>c("span",{style:{color:e.color,fontSize:e.size}},[e.text||"默认文本"]),props:{text:il({label:"显示文本"}),color:(ql="字体颜色",{type:nl.color,label:ql,defaultValue:Il}),size:ul({label:"字体大小",options:[{label:"14px",val:"14px"},{label:"18px",val:"18px"},{label:"24px",val:"24px"}]})}};const Ll={"./button/index.tsx":ml,"./checkbox/index.tsx":gl,"./datetimePicker/index.tsx":hl,"./image/index.tsx":wl,"./input/index.tsx":_l,"./nav-bar/index.tsx":xl,"./number-range/index.tsx":Ol,"./picker/index.tsx":zl,"./radio/index.tsx":Ml,"./rate/index.tsx":Pl,"./select/index.tsx":$l,"./slider/index.tsx":Wl,"./stepper/index.tsx":El,"./switch/index.tsx":Fl,"./text/index.tsx":Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Kl})},Al={};Object.keys(Ll).forEach((e=>{var l;const a=e.replace(/\.\/(.*)\/index\.(tsx|vue)/,"$1");Al[a]=(null==(l=Ll[e])?void 0:l.default)||Ll[e]})),console.log(Al,"base-widgets");var Hl={key:"form",moduleName:"containerComponents",label:"表单容器",preview:()=>c(Y,null,{default:()=>[c(P,{name:"用户名",label:"用户名",placeholder:"用户名"},null),c(P,{type:"password",name:"密码",label:"密码",placeholder:"密码"},null),c("div",{style:"margin: 16px;"},[c(M,{round:!0,size:"small",block:!0,type:"primary"},{default:()=>[N("提交")]})])]}),render:function({props:e,custom:l,block:a}){let t;const{slots:o}=z(),{registerRef:n}=pl();return c(Y,D({ref:e=>n(e,a._vid)},l,e,{onSubmit:e=>{console.log("onSubmit:",e)}}),"function"==typeof(r=t=p(o,"default"))||"[object Object]"===Object.prototype.toString.call(r)&&!A(r)?t:{default:()=>[t]});var r},resize:{height:!0,width:!0},props:{"slots.default.children":cl({label:"表单项",option:{options:[{label:"显示值",field:"label"},{label:"绑定值",field:"value"},{label:"备注",field:"comments"}],showKey:"label"},defaultValue:[]})}},Gl=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Hl});var Jl="_van-row_16vqw_9";const Xl={},Yl=e=>e.split(":").reduce(((e,l,a)=>(e[`slot${a}`]={key:`slot${a}`,span:l,children:[]},e)),{value:e});var Ql={key:"layout",moduleName:"containerComponents",label:"布局容器",preview:()=>c(Q,{gutter:"20"},{default:()=>[c(Z,{span:"8"},{default:()=>[N("span: 8")]}),c(Z,{span:"8"},{default:()=>[N("span: 8")]}),c(Z,{span:"8"},{default:()=>[N("span: 8")]})]}),render:function({props:e,size:l,block:a,custom:t}){var o;const{slots:n}=z(),{registerRef:r}=pl();return null!=Xl[o=a._vid]||(Xl[o]={}),Object.keys(e.slots||{}).length&&Object.keys(e.slots).forEach((l=>{var t;(null==(t=Xl[a._vid][l])?void 0:t.children)&&(e.slots[l].children=Xl[a._vid][l].children)})),c(Q,D({ref:e=>r(e,a._vid)},t,e,{style:{height:l.height?`${l.height}px`:null,width:l.width?`${l.width}px`:null},class:Jl}),{default:()=>{var l;return[null==(l=Object.values(Object.keys(e.slots).length?e.slots:Yl("12:12")))?void 0:l.filter((e=>"string"!=typeof e)).map(((e,l)=>{let t;return Xl[a._vid][`slot${l}`]=e,c(h,null,[c(Z,{span:e.span},(o=t=p(n,`slot${l}`),"function"==typeof o||"[object Object]"===Object.prototype.toString.call(o)&&!A(o)?t:{default:()=>[t]}))]);var o}))]}})},resize:{height:!0,width:!0},props:{gutter:il({label:"列间隔"}),slots:ul({label:"列比例",options:[{label:"24",val:Yl("24")},{label:"12:12",val:Yl("12:12")},{label:"6:18",val:Yl("6:18")},{label:"18:6",val:Yl("18:6")},{label:"8:8:8",val:Yl("8:8:8")},{label:"6:12:6",val:Yl("6:12:6")},{label:"6:6:6:6",val:Yl("6:6:6:6")}],defaultValue:Yl("12:12")}),justify:ul({label:"主轴对齐方式",options:[{label:"左对齐",val:"start"},{label:"居中排列",val:"center"},{label:"均匀对齐",val:"space-around"},{label:"两端对齐",val:"space-between"},{label:"右对齐",val:"end"}]}),align:ul({label:"交叉轴对齐方式",options:[{label:"顶部对齐",val:"top"},{label:"垂直居中",val:"center"},{label:"底部对齐",val:"bottom"}]})}};const Zl={"./form/index.tsx":Gl,"./layout/index.tsx":Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ql})},ea={};Object.keys(Zl).forEach((e=>{var l;const a=e.replace(/\.\/(.*)\/index\.(tsx|vue)/,"$1");ea[a]=(null==(l=Zl[e])?void 0:l.default)||Zl[e]})),console.log(ea,"base-widgets");const la=function(){const e={baseWidgets:[],containerComponents:[]},l={};return{componentModules:e,componentMap:l,registry:(a,t,o)=>{const r=n(n({},o),{key:t,moduleName:a});e[a].push(r),l[t]=r}}}();Object.keys(Al).forEach((e=>la.registry("baseWidgets",e,Al[e]))),Object.keys(ea).forEach((e=>la.registry("containerComponents",e,ea[e]))),console.log("visualConfig:",la);var aa={"list-group-item":"_list-group-item_1kgpy_1",listGroupItem:"_list-group-item_1kgpy_1"},ta=r({name:"BaseWidgets",setup(){const e=e=>{window.console.log(e)},l=e=>{console.log("当前拖拽的组件：",e);const l=V.cloneDeep(e);return l._vid=Date.now(),ol({left:0,top:0,component:l})};return()=>c(h,null,[c(ee,{class:aa.listGroup,sort:!1,forceFallback:!1,list:la.componentModules.baseWidgets,group:{name:"components",pull:"clone",put:!1},clone:l,"item-key":"key",onChange:e},{item:({element:e})=>c("div",{class:aa.listGroupItem,"data-label":e.label},[e.preview()])})])}}),oa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ta});var na={"list-group-item":"_list-group-item_1kgpy_1",listGroupItem:"_list-group-item_1kgpy_1"},ra=r({name:"ContainerComponent",setup(){const e=e=>{window.console.log(e)},l=e=>{console.log("当前拖拽的组件：",e);const l=V.cloneDeep(e);return l._vid=Date.now(),ol({left:0,top:0,component:l})};return()=>c(h,null,[c(ee,{class:na.listGroup,sort:!1,forceFallback:!1,list:la.componentModules.containerComponents,group:{name:"components",pull:"clone",put:!1},clone:l,"item-key":"key",onChange:e},{item:({element:e})=>c("div",{class:na.listGroupItem,"data-label":e.label},[e.preview()])})])}}),sa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ra});const ia={name:"CustomComponent"};ia.render=function(e,l,a,t,o,n){return"自定义组件"};var da=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ia});const ua=[{label:"一级 1",children:[{label:"二级 1-1",children:[{label:"三级 1-1-1"}]}]},{label:"一级 2",children:[{label:"二级 2-1",children:[{label:"三级 2-1-1"}]},{label:"二级 2-2",children:[{label:"三级 2-2-1"}]}]},{label:"一级 3",children:[{label:"二级 3-1",children:[{label:"三级 3-1-1"}]},{label:"二级 3-2",children:[{label:"三级 3-2-1"}]}]}];var ca=r({name:"PageTree",setup(){const e=y({data:ua,defaultProps:{children:"children",label:"label"}});return n(n({},k(e)),{handleNodeClick:e=>{console.log(e)},addPage:e=>{console.log("子页面数据：",e)},delPage:e=>{console.log("删除子页面数据",e)}})}});const pa=b();s("data-v-27a162eb");const ba={class:"custom-tree-node"},ma=c("span",{class:"el-dropdown-link"},[c("i",{class:"el-icon-more"})],-1),fa=N("添加子页面"),ga=N("删除");i();const va=pa(((e,l,a,t,o,n)=>{const r=te,s=oe,i=ne,p=re;return d(),u(p,{data:e.data,props:e.defaultProps,onNodeClick:e.handleNodeClick},{default:pa((({node:a,data:t})=>[c("span",ba,[c("span",null,le(a.label),1),c("span",{onClick:l[1]||(l[1]=ae((()=>{}),["stop"]))},[c(i,{trigger:"click"},{dropdown:pa((()=>[c(s,null,{default:pa((()=>[c(r,{icon:"el-icon-plus",onClick:l=>e.addPage(t)},{default:pa((()=>[fa])),_:2},1032,["onClick"]),c(r,{icon:"el-icon-delete",onClick:l=>e.delPage(t)},{default:pa((()=>[ga])),_:2},1032,["onClick"])])),_:2},1024)])),default:pa((()=>[ma])),_:2},1024)])])])),_:1},8,["data","props","onNodeClick"])}));ca.render=va,ca.__scopeId="data-v-27a162eb";const ha={"./base-widgets/index.tsx":oa,"./container-component/index.tsx":sa,"./custom-component/index.vue":da,"./page-tree/index.vue":Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ca})},ya={};console.log(ha,"起航");for(const st in ha){const e=ha[st].default;ya[e.name]=e}console.log("left-aside components:",ya);var wa=r({name:"LeftAside",components:ya,setup(){const e=y({activeName:al[0].name});return n(n({},k(e)),{tabs:al,handleClick:(e,l)=>{console.log(e,l)}})}});const Va=b();s("data-v-6e6b5004");const _a={class:"flex flex-col items-center justify-center"};i();const ka=Va(((e,l,a,t,o,n)=>{const r=de,s=se;return d(),u(s,{modelValue:e.activeName,"onUpdate:modelValue":l[1]||(l[1]=l=>e.activeName=l),"tab-position":"left",onTabClick:e.handleClick},{default:Va((()=>[(d(!0),u(h,null,g(e.tabs,(e=>(d(),u(r,{key:e.name,name:e.name},{label:Va((()=>[c("div",_a,[c("i",{class:e.icon},null,2),N(" "+le(e.label),1)])])),default:Va((()=>[(d(),u(ie(e.componentName)))])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue","onTabClick"])}));wa.render=ka,wa.__scopeId="data-v-6e6b5004";var xa="_drawer_e36ge_9",ja="_is-open_e36ge_26",Ca="_floating-action-btn_e36ge_21",Oa="_attrs_e36ge_53";function Sa(e,l){const a=ue(e());return _(e,(e=>{e!==a.value&&(a.value=e)})),{get value(){return a.value},set value(e){a.value!==e&&(a.value=e,l(e))}}}r({props:{modelValue:{type:String}},emits:["update:modelValue"],setup(e,l){const a=Sa((()=>e.modelValue),(e=>l.emit("update:modelValue",e)));return()=>c("div",null,[N("自定义的输入框"),E(c("input",{type:"text","onUpdate:modelValue":e=>a.value=e},null),[[q,a.value]])])}});const za=()=>{const e={};return e.promise=new Promise(((l,a)=>{e.resolve=l,e.reject=a})),e};const Da=r({props:{option:{type:Object,required:!0}},setup(e){const l=z(),a=y({option:e.option,showFlag:!1,mounted:(()=>{const e=za();return ce((()=>setTimeout((()=>e.resolve()),0))),e.promise})(),editData:[]}),t={service:e=>{a.option=e,a.editData=V.cloneDeep(e.data||[]),t.show()},show:async()=>{await a.mounted,a.showFlag=!0},hide:()=>{a.showFlag=!1},add:()=>{a.editData.push({})},reset:()=>{a.editData=V.cloneDeep(a.option.data)}},o={onConfirm:()=>{a.option.onConfirm(a.editData),t.hide()},onCancel:()=>{t.hide()},onDelete:e=>{a.editData.splice(e,1)}};return Object.assign(l.proxy,t),()=>c(h,null,[c(pe,{modelValue:a.showFlag},{default:()=>c("div",null,[c("div",null,[c(be,{onClick:t.add},{default:()=>[N("添加")]}),c(be,{onClick:t.reset},{default:()=>[N("重置")]})]),c(me,{data:a.editData},{default:()=>[c(fe,{type:"index"},null),a.option.config.table.options.map((e=>c(fe,{label:e.label},{default:({row:l})=>c(ge,{modelValue:l[e.field],"onUpdate:modelValue":a=>l[e.field]=a},null)}))),c(fe,{label:"操作栏"},{default:({$index:e})=>c(be,D({type:"danger"},{onClick:()=>o.onDelete(e)}),{default:()=>[N("删除")]})})]})]),footer:()=>c(h,null,[c(be,{onClick:o.onCancel},{default:()=>[N("取消")]}),c(be,D({type:"primary"},{onClick:o.onConfirm}),{default:()=>[N("确定")]})])})])}}),Ma=(()=>{let e;return l=>{if(!e){const a=document.createElement("div");document.body.appendChild(a);const t=ve(Da,{option:l});e=t.mount(a)}const a=za();return e.service(n(n({},l),{onConfirm:a.resolve})),a.promise}})(),Na=r({props:{modelValue:{type:Array},propConfig:{type:Object,required:!0}},emits:["update:modelValue"],setup(e,l){const a=Sa((()=>e.modelValue),(e=>l.emit("update:modelValue",e))),t=async()=>{const l=await Ma({config:e.propConfig,data:e.modelValue||[]});a.value=l};return()=>c("div",null,[(!a.value||0==a.value.length)&&c(be,{onClick:t},{default:()=>[N("添加")]}),(a.value||[]).map((l=>c(he,{onClick:t},{default:()=>[l[e.propConfig.table.showKey]]})))])}});(globalThis||window).MonacoEnvironment={getWorker:(e,l)=>"json"===l?new ye:"css"===l||"scss"===l||"less"===l?new we:void 0},Ve.getLanguages();var Pa="_container_z26um_9",Ua="_title_z26um_16",$a="_code_z26um_21";let Ra,Wa=!1;var Ta=r({name:"MonacoEditor",props:{code:{type:String,required:!0},vid:[String,Number],onChange:{type:Function,required:!0},title:{type:String,required:!0}},setup(e){const l=_e(null),a=ue(null),t=()=>{window.requestIdleCallback((()=>{l.value.getAction("editor.action.formatDocument").run()}),{timeout:800})};ce((()=>{l.value=ke.create(a.value,{value:e.code,theme:"vs-dark",language:"json",formatOnPaste:!0,tabSize:2,minimap:{enabled:!1},fontFamily:"微软雅黑",overviewRulerBorder:!1,scrollBeyondLastLine:!1}),Ra=l.value.onDidChangeModelContent((a=>{Wa||e.onChange(l.value.getValue(),a)})),t(),l.value.layout({width:300,height:800})})),xe((()=>{Ra&&Ra.dispose()}));return _((()=>e.vid),(()=>{if(l.value){const a=l.value,o=a.getModel();o&&e.code!==o.getValue()&&(a.pushUndoStop(),Wa=!0,o.pushEditOperations([],[{range:o.getFullModelRange(),text:e.code}],(()=>null))),a.pushUndoStop(),Wa=!1,t()}})),()=>c("div",{class:Pa},[e.title&&c("div",{class:Ua},[c("span",null,[e.title])]),c("div",{class:$a,ref:a},null)])}});function Ea(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!A(e)}var qa=r({name:"RightAttributePanel",props:{block:{type:Object,default:()=>({})},config:{type:Object,required:!0},dataModel:{type:Object,required:!0}},setup(e,{emit:l}){const a=y({activeName:"attr",isOpen:!0,editData:w(e,"block",l)}),t=(e,l)=>{const{propObj:t,prop:o}=tl(a.editData.props,e);return{[nl.input]:()=>c(ge,{modelValue:t[o],"onUpdate:modelValue":e=>t[o]=e},null),[nl.inputNumber]:()=>c(Ce,{modelValue:t[o],"onUpdate:modelValue":e=>t[o]=e},null),[nl.switch]:()=>c(Oe,{modelValue:t[o],"onUpdate:modelValue":e=>t[o]=e},null),[nl.color]:()=>c(Se,{modelValue:t[o],"onUpdate:modelValue":e=>t[o]=e},null),[nl.select]:()=>{let e;return c(H,{modelValue:t[o],"onUpdate:modelValue":e=>t[o]=e,valueKey:"value"},Ea(e=l.options.map((e=>c(L,{label:e.label,value:e.val},null))))?e:{default:()=>[e]})},[nl.table]:()=>c(Na,{modelValue:t[o],"onUpdate:modelValue":e=>t[o]=e,propConfig:l},null)}[l.type]()};return()=>{const l=[];if(e.block){const{componentKey:a}=e.block,o=e.config.componentMap[a];console.log("props.block:",e.block),l.push(c(je,{label:"组件ID",labelWidth:"76px"},{default:()=>[e.block._vid,c(ze,{width:200,trigger:"hover",content:`你可以利用该组件ID。对该组件进行获取和设置其属性，组件可用属性可在控制台输入：$$refs.${e.block._vid} 进行查看`},{reference:()=>c("i",{style:{marginLeft:"6px"},class:"el-icon-warning-outline"},null)})]})),o&&o.props&&l.push(c(h,null,[Object.entries(o.props||{}).map((([e,l])=>c(je,{key:e},{default:()=>[t(e,l)],label:()=>l.tips?c(h,null,[c(ze,{width:200,trigger:"hover",content:l.tips},{reference:()=>c("i",{class:"el-icon-warning-outline"},null)}),l.label]):l.label})))]))}else l.push(c(h,null,[c(je,{label:"容器宽度"},{default:()=>[c(Ce,D({modelValue:a.editData.width,"onUpdate:modelValue":e=>a.editData.width=e},{step:100}),null)]}),c(je,{label:"容器高度"},{default:()=>[c(Ce,D({modelValue:a.editData.height,"onUpdate:modelValue":e=>a.editData.height=e},{step:100}),null)]})]));const o=e=>{try{const l=JSON.parse(e);Object.assign(a.editData,l)}catch(l){console.log("JSON格式有误：",l)}};return c(h,null,[c("div",{class:[xa,{[ja]:a.isOpen}]},[c("div",{class:Ca,onClick:()=>a.isOpen=!a.isOpen},[c("i",{class:"el-icon-d-arrow-"+(a.isOpen?"right":"left")},null)]),c("div",{class:Oa},[c(De,{modelValue:a.activeName,"onUpdate:modelValue":e=>a.activeName=e},{default:()=>[c(Me,{label:"属性面板",name:"attr"},{default:()=>[c(Ne,{size:"mini","label-position":"left"},Ea(l)?l:{default:()=>[l]})]}),c(Me,{label:"JSON",name:"json",lazy:!0},{default:()=>[c(Ta,{code:JSON.stringify(e.block),vid:"json"==a.activeName?e.block._vid:-1,onChange:o,title:""},null)]})]})])])])}}}),Ia=r({name:"DraggableTransitionGroup",components:{draggable:ee},props:{moduleValue:{type:Array,default:()=>[]},drag:{type:Boolean,default:!1}},emits:["update:moduleValue","update:drag"],setup(e,{emit:l}){const a=y({list:w(e,"moduleValue",l),isDrag:w(e,"drag",l)}),t=Pe((()=>({animation:200,group:"components",disabled:!1,ghostClass:"ghost"})));return n(n({},k(a)),{log:()=>{},dragOptions:t})}});const Ba=b(),Fa=Ba(((e,l,a,t,o,n)=>{const r=m("draggable");return d(),u(r,D({modelValue:e.list,"onUpdate:modelValue":l[1]||(l[1]=l=>e.list=l),class:["dragArea list-group",{isDrag:e.isDrag}],tag:"transition-group",group:{name:"nested-draggable"},"component-data":{tag:"div",type:"transition-group",name:e.isDrag?null:"flip-list"},"item-key":"_vid"},e.dragOptions,{onStart:l[2]||(l[2]=l=>e.isDrag=!0),onEnd:l[3]||(l[3]=l=>e.isDrag=!1),onChange:e.log}),{item:Ba((l=>[c("div",null,[p(e.$slots,"item",l,void 0,!0)])])),_:1},16,["modelValue","class","component-data","onChange"])}));Ia.render=Fa,Ia.__scopeId="data-v-225673ea";const Ka=(()=>{const e="@@DROPDOWN_SERVICE_PROVIDER";return{provide:l=>Ue(e,l),inject:()=>$e(e)}})(),La=r({props:{option:{type:Object,required:!0}},setup(e){const l=z(),a=ue({}),t=y({option:e.option,showFlag:!1,top:0,left:0,mounted:(()=>{const e=za();return ce((()=>setTimeout((()=>e.resolve()),0))),e.promise})()}),o={show:async()=>{await t.mounted,t.showFlag=!0},hide:()=>{t.showFlag=!1}},n=Pe((()=>["dropdown-service",{"dropdown-service-show":t.showFlag}])),r=Pe((()=>({top:`${t.top}px`,left:`${t.left}px`})));Object.assign(l.proxy,{service:e=>{if(t.option=e,"addEventListener"in e.reference){const{top:l,left:a,height:o}=e.reference.getBoundingClientRect();t.top=l+o,t.left=a}else{const{clientX:l,clientY:a}=e.reference;t.left=l,t.top=a}o.show()}});const s=e=>{a.value.contains(e.target)||o.hide()};return ce((()=>document.body.addEventListener("mousedown",s,!0))),xe((()=>document.body.removeEventListener("mousedown",s,!0))),Ka.provide({onClick:o.hide}),()=>c("div",{class:n.value,style:r.value,ref:a},[t.option.content()])}}),Aa=r({props:{label:{type:String},icon:{type:String}},emits:["click"],setup(e,l){const{onClick:a}=Ka.inject(),t={onClick:e=>{l.emit("click",e),a()}};return()=>c("div",{class:"dropdown-option",onClick:t.onClick},[c("i",{class:e.icon},null),c("span",null,[e.label])])}}),Ha=(()=>{let e;return l=>{if(!e){const a=document.createElement("div");document.body.appendChild(a);const t=ve(La,{option:l});e=t.mount(a)}e.service(l)}})();var Ga=r({name:"CompRender",props:{element:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})}},setup:e=>()=>e.config.componentMap[e.element.componentKey].render({size:{},props:e.element.props||{},model:{},block:e.element,custom:{}})}),Ja=r({name:"SlotItem",components:{CompRender:Ga,DraggableTransitionGroup:Ia},props:{slotKey:String,config:{type:Object,default:()=>({})},children:{type:Array,default:()=>[]},selectComp:{type:Function},onContextmenuBlock:{type:Function}},emits:["update:children","on-selected"],setup:(e,{emit:l})=>({drag:ue(!1),slotChildren:w(e,"children",l)})});const Xa=b(),Ya=Xa(((e,l,a,t,o,n)=>{var r;const s=m("SlotItem",!0),i=m("comp-render"),p=m("draggable-transition-group");return d(),u(p,{modelValue:e.slotChildren,"onUpdate:modelValue":l[1]||(l[1]=l=>e.slotChildren=l),drag:e.drag,"onUpdate:drag":l[2]||(l[2]=l=>e.drag=l),class:["inner-draggable",{slot:!(null==(r=e.slotChildren)?void 0:r.length)}],"data-slot":`插槽（${e.slotKey}）\n 拖拽组件到此处`},{item:Xa((({element:l})=>{var a,t;return[c("div",{class:["list-group-item inner",{focus:l.focus,focusWithChild:l.focusWithChild}],"data-label":l.label,onContextmenu:ae((a=>e.onContextmenuBlock(a,l,e.slotChildren)),["stop","prevent"]),onMousedown:ae((a=>e.selectComp(l)),["stop"])},[c(i,{config:e.config,element:l,style:{pointerEvents:Object.keys((null==(a=l.props)?void 0:a.slots)||{}).length?"auto":"none"}},f({_:2},[g(null==(t=l.props)?void 0:t.slots,((l,a)=>({name:a,fn:Xa((()=>[c(s,{children:l.children,"onUpdate:children":e=>l.children=e,"slot-key":a,config:e.config,"on-contextmenu-block":e.onContextmenuBlock,"select-comp":e.selectComp},null,8,["children","onUpdate:children","slot-key","config","on-contextmenu-block","select-comp"])]))})))]),1032,["config","element","style"])],42,["data-label","onContextmenu","onMousedown"])]})),_:1},8,["modelValue","drag","class","data-slot"])}));Ja.render=Ya,Ja.__scopeId="data-v-a3397532";var Qa=r({name:"SimulatorEditor",components:{DraggableTransitionGroup:Ia,CompRender:Ga,SlotItem:Ja},props:{blocks:{type:Array,required:!0},config:{type:Object,required:!0}},emits:["update:blocks","on-selected"],setup(e,{emit:l}){const{globalProperties:a}=pl(),t=y({compRefs:[],drag:!1,VMBlocks:w(e,"blocks",l)}),o=(e,l=[],a=[])=>{var t,n;for(let r=0;r<l.length;r++){const s=a.concat();if(s.push(l[r]),e==l[r]._vid)return s;const i=(null==(t=l[r].props)?void 0:t.slots)||{},d=Object.keys(i);for(let l=0;l<d.length;l++){const a=null==(n=i[d[l]])?void 0:n.children;if(a){const l=o(e,a,s);if(l)return l}}}},r=(e,l)=>{var a;const n=(null==(a=e.props)?void 0:a.slots)||{};Object.keys(n).length>0&&Object.keys(n).forEach((e=>{var a,s;null==(s=null==(a=n[e])?void 0:a.children)||s.forEach((e=>{var a;if(e.focusWithChild=!1,e.focus=e._vid==l,e.focus){o(l,t.VMBlocks).forEach((e=>e.focusWithChild=!0))}Object.keys((null==(a=e.props)?void 0:a.slots)||{}).length&&r(e,l)}))}))};return n(n({},k(t)),{selectComp:e=>{l("on-selected",e),t.VMBlocks.forEach((l=>{l.focus=e._vid==l._vid,l.focusWithChild=!1,r(l,e._vid),e.focusWithChild=!1}))},onContextmenuBlock:(e,l,o=t.VMBlocks)=>{Ha({reference:e,content:()=>c(h,null,[c(Aa,D({label:"复制节点",icon:"el-icon-document-copy"},{onClick:()=>{const e=o.findIndex((e=>e._vid==l._vid));if(-1!=e){const l=(e,a=-1)=>{var t;e._vid=`vid_${Date.now()+a}`;const o=(null==(t=null==e?void 0:e.props)?void 0:t.slots)||{},n=Object.keys(o);n.length&&n.forEach((e=>{var a,t;null==(t=null==(a=o[e])?void 0:a.children)||t.forEach(((e,a)=>l(e,a)))}))},a=V.cloneDeep(o[e]);l(a),o.splice(e,0,a)}}}),null),c(Aa,D({label:"删除节点",icon:"el-icon-delete"},{onClick:()=>{const e=o.findIndex((e=>e._vid==l._vid));-1!=e&&(delete a.$$refs[o[e]._vid],o.splice(e,1))}}),null)])})}})}});const Za=b(),et=Za(((e,l)=>{const a=m("slot-item"),t=m("comp-render"),o=m("draggable-transition-group");return d(),u(o,{drag:e.drag,"onUpdate:drag":l[1]||(l[1]=l=>e.drag=l),modelValue:e.VMBlocks,"onUpdate:modelValue":l[2]||(l[2]=l=>e.VMBlocks=l)},{item:Za((({element:l})=>{var o,n;return[c("div",{class:["list-group-item",{focus:l.focus,focusWithChild:l.focusWithChild,drag:e.drag,"no-child":!Object.keys(l.props.slots||{}).length}],"data-label":l.label,onContextmenu:ae((a=>e.onContextmenuBlock(a,l)),["stop","prevent"]),onMousedown:a=>e.selectComp(l)},[c(t,{config:e.config,element:l,style:{pointerEvents:Object.keys((null==(o=l.props)?void 0:o.slots)||{}).length?"auto":"none"}},f({_:2},[g(null==(n=l.props)?void 0:n.slots,((l,t)=>({name:t,fn:Za((()=>[c(a,{children:l.children,"onUpdate:children":e=>l.children=e,"slot-key":t,config:e.config,"on-contextmenu-block":e.onContextmenuBlock,"select-comp":e.selectComp},null,8,["children","onUpdate:children","slot-key","config","on-contextmenu-block","select-comp"])]))})))]),1032,["config","element","style"])],42,["data-label","onContextmenu","onMousedown"])]})),_:1},8,["drag","modelValue"])}));Qa.render=et,Qa.__scopeId="data-v-6d500e78";var lt=r({name:"Layout",components:{Header:Xe,LeftAside:wa,RightAttributePanel:qa,SimulatorEditor:Qa,Simulator:Fe},props:{modelValue:{type:Object,required:!0},config:{type:Object,required:!0},formData:{type:Object,required:!0},customProps:{type:Object}},emits:["update:modelValue"],setup(e){const l=y({dataModel:w(e,"modelValue"),currentBlock:{}});return n(n({},k(l)),{onSelected:e=>{l.currentBlock=e,console.log("currentBlock:",l.currentBlock)}})}});lt.render=function(e,l,a,t,o,n){const r=m("Header"),s=Re,i=m("left-aside"),p=We,b=m("simulator-editor"),f=m("simulator"),g=m("right-attribute-panel"),h=Te,y=Ee;return d(),u(y,null,{default:v((()=>[c(s,{height:"80px",class:"flex items-center shadow-md"},{default:v((()=>[c(r,{"json-data":e.modelValue,config:e.config},null,8,["json-data","config"])])),_:1}),c(y,{class:"layout-container"},{default:v((()=>[c(p,{class:"shadow-sm",width:"350px"},{default:v((()=>[c(i)])),_:1}),c(h,null,{default:v((()=>[c(f,null,{default:v((()=>[c(b,{blocks:e.dataModel.blocks,"onUpdate:blocks":l[1]||(l[1]=l=>e.dataModel.blocks=l),config:e.config,onOnSelected:e.onSelected},null,8,["blocks","config","onOnSelected"])])),_:1}),c(g,{block:e.currentBlock,"onUpdate:block":l[2]||(l[2]=l=>e.currentBlock=l),config:e.config,"data-model":e.dataModel},null,8,["block","config","data-model"])])),_:1})])),_:1})])),_:1})};var at=r({name:"App",components:{VisualEditor:lt},setup(){const e=y({jsonData:{container:{height:500,width:800},blocks:JSON.parse(sessionStorage.getItem("blocks")||"[]")},formData:[],customProps:{}});return window.addEventListener("beforeunload",(()=>{sessionStorage.setItem("blocks",JSON.stringify(e.jsonData.blocks))})),n(n({},k(e)),{visualConfig:la})}});at.render=function(e,l,a,t,o,n){const r=m("visual-editor");return d(),u(r,{modelValue:e.jsonData,"onUpdate:modelValue":l[1]||(l[1]=l=>e.jsonData=l),config:e.visualConfig,"form-data":e.formData,"custom-props":e.customProps},null,8,["modelValue","config","form-data","custom-props"])};const tt=qe({history:Ie(),routes:[]}),ot={count:0};var nt=Be({state:()=>ot,mutations:{increment(e){e.count++}},actions:{increment(e){e.commit("increment")}},getters:{double:e=>2*e.count}});const rt=ve(at);rt.config.globalProperties.$$refs={},window.$$refs=rt.config.globalProperties.$$refs,rt.use(tt).use(nt).mount("#app");
