var e=Object.defineProperty,a=Object.prototype.hasOwnProperty,t=Object.getOwnPropertySymbols,s=Object.prototype.propertyIsEnumerable,o=(a,t,s)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,n=(e,n)=>{for(var r in n||(n={}))a.call(n,r)&&o(e,r,n[r]);if(t)for(var r of t(n))s.call(n,r)&&o(e,r,n[r]);return e};import{_ as r}from"./preload-helper.53a7bf77.js";import{r as c,c as i,i as p,u as l,a as g,w as u,d as j,n as f,p as h,o as m,b as d,e as b,f as P,g as D,t as y,h as w,j as v,k as O,l as S}from"./json.worker.a47d5c75.js";import{v as k}from"./visual.config.38103309.js";const $="jsonData",_=Symbol("injectKey"),E=()=>p(_);var I=j({name:"App",async setup(){const e=(()=>{var e;const a=JSON.parse(sessionStorage.getItem("jsonData"))||{container:{width:360,height:960},pages:{"/":{title:"首页",path:"/",blocks:[]}}},t=l();console.log("jsonData：",a);const s=e=>e.startsWith("/")?e:`/${e}`,o=g({jsonData:a,currentPage:null!=(e=a.pages[t.path])?e:a.pages["/"]});u((()=>t.path),(e=>p(e)));const r=(e="",a="")=>{delete o.jsonData.pages[e],a&&p(a)},p=(e="/")=>{o.currentPage=a.pages[e]};return{visualConfig:k,jsonData:c(o.jsonData),currentPage:i((()=>o.currentPage)),overrideProject:e=>{o.jsonData="string"==typeof e?JSON.parse(e):e},setCurrentPage:p,updatePage:({newPath:e,oldPath:a,page:t})=>{console.log(o.jsonData.pages[a],t),e&&e!=a?(t.path=e,o.jsonData.pages[s(e)]=n(n({},o.jsonData.pages[a]),t),r(a,s(e))):Object.assign(o.jsonData.pages[a],t)},incrementPage:(e="",a)=>{o.jsonData.pages[s(e)]=null!=a?a:{title:"新页面",path:e,blocks:[]}},deletePage:r,updatePageBlock:(e="",a=[])=>{o.jsonData.pages[e].blocks=a}}})();await f(),h(_,e);const{jsonData:a}=e;window.addEventListener("beforeunload",(()=>{sessionStorage.setItem("jsonData",JSON.stringify(a))}))}});I.render=function(e,a,t,s,o,n){const r=b("router-view");return m(),d(r,null,{default:P((({Component:e,route:a})=>[(m(),d(D(e),{key:a.path}))])),_:1})};y.configure({showSpinner:!1});const C=[{path:"/:pathMatch(.*)*",component:()=>r((()=>__import__("./index.a11c2edc.js").then((function(e){return e.i}))),["/vite-vue3-lowcode/assets/index.a11c2edc.js","/vite-vue3-lowcode/assets/index.435373ba.css","/vite-vue3-lowcode/assets/json.worker.a47d5c75.js","/vite-vue3-lowcode/assets/visual.config.38103309.js","/vite-vue3-lowcode/assets/visual.config.947336ba.css"])}],J=w({history:v(),routes:C});J.beforeEach((()=>(y.start(),!0))),J.afterEach((()=>{y.done()}));const N={count:0};var x=O({state:()=>N,mutations:{increment(e){e.count++}},actions:{increment(e){e.commit("increment")}},getters:{double:e=>2*e.count}});const A=S(I);A.config.globalProperties.$$refs={},window.$$refs=A.config.globalProperties.$$refs,A.use(J).use(x),J.isReady().then((()=>A.mount("#app")));export{$ as l,E as u};
