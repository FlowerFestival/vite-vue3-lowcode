var __vite_style__=document.createElement("style");__vite_style__.innerHTML=".h5-preview{overflow:hidden}.h5-preview .el-dialog__header{display:none}.h5-preview .simulator{padding-right:0}.h5-preview .simulator::-webkit-scrollbar{width:0}",document.head.appendChild(__vite_style__),System.register(["./visual.config-legacy.42a5220a.js","./preload-helper-legacy.07852a3a.js","./preview-legacy.d229cf4a.js"],(function(e){"use strict";var n,t,o,l,i,r,a,s,c,u,d,p,m,v,f,g,y,h,C,b,w,k,S,_,O,P,j,x,z,T,N,A,B;return{setters:[function(e){n=e.e,t=e.f,o=e.h,l=e.P,i=e.j,r=e.I,a=e.L,s=e.k,c=e.l,u=e.w,d=e.m,p=e.v},function(e){m=e.k,v=e.a,f=e.v,g=e.d,y=e.w,h=e.t,C=e.n,b=e.z,w=e.G,k=e.l,S=e.q,_=e.f,O=e.o,P=e.b,j=e.ag,x=e.aB,z=e.e,T=e.F,N=e.C,A=e.Y},function(e){B=e.r}],execute:function(){var E=0;var[L,M]=i("toast"),I=g({name:L,props:{icon:String,show:Boolean,overlay:Boolean,message:[Number,String],iconSize:[Number,String],className:o,iconPrefix:String,loadingType:String,forbidClick:Boolean,overlayClass:o,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,type:{type:String,default:"text"},duration:{type:Number,default:2e3},position:{type:String,default:"middle"},transition:{type:String,default:"van-fade"}},emits:["update:show"],setup(e,{emit:n}){var t,o=!1,i=()=>{var n=e.show&&e.forbidClick;o!==n&&((o=n)?(E||document.body.classList.add("van-toast--unclickable"),E++):E&&(--E||document.body.classList.remove("van-toast--unclickable")))},c=e=>n("update:show",e),u=()=>{e.closeOnClick&&c(!1)},d=()=>{clearTimeout(t)},p=()=>{var{icon:n,type:t,iconSize:o,iconPrefix:l,loadingType:i}=e;return n||"success"===t||"fail"===t?b(r,{name:n||t,size:o,class:M("icon"),classPrefix:l},null):"loading"===t?b(a,{class:M("loading"),size:o,type:i},null):void 0},m=()=>{var{type:n,message:t}=e;if(s(t)&&""!==t)return"html"===n?b("div",{class:M("text"),innerHTML:String(t)},null):b("div",{class:M("text")},[t])};return y((()=>[e.show,e.forbidClick]),i),y((()=>[e.show,e.type,e.message,e.duration]),(()=>{d(),e.show&&e.duration>0&&(t=setTimeout((()=>{c(!1)}),e.duration))})),h(i),C(i),()=>b(l,w({show:e.show,class:[M([e.position,{[e.type]:!e.icon}]),e.className],overlay:e.overlay,lockScroll:!1,transition:e.transition,overlayClass:e.overlayClass,overlayStyle:e.overlayStyle,closeOnClickOverlay:e.closeOnClickOverlay,onClick:u,onClosed:d},{"onUpdate:show":c}),{default:()=>[p(),m()]})}}),D={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1},K=[],R=!1,G=n({},D),H={};function U(e){return d(e)?e:{message:e}}function Y(){var e,o,{instance:l,unmount:i}=(e=m({setup(){var e=k(""),{open:o,state:r,close:a,toggle:s}=function(){var e=v({show:!1}),o=n=>{e.show=n},l=t=>{n(e,t),f((()=>o(!0)))},i=()=>o(!1);return t({open:l,close:i,toggle:o}),{open:l,close:i,state:e,toggle:o}}(),c=()=>{R&&(K=K.filter((e=>e!==l)),i())};return S().render=()=>{var n={onClosed:c,"onUpdate:show":s};return e.value&&(n.message=e.value),b(I,w(r,n),null)},{open:o,clear:a,message:e}}}),o=document.createElement("div"),document.body.appendChild(o),{instance:e.mount(o),unmount(){e.unmount(),document.body.removeChild(o)}});return l}function q(e={}){if(!c)return{};var t=function(){if(!K.length||R){var e=Y();K.push(e)}return K[K.length-1]}(),o=U(e);return t.open(n({},G,H[o.type||G.type],o)),t}var F=e=>t=>q(n({type:e},U(t)));q.loading=F("loading"),q.success=F("success"),q.fail=F("fail"),q.clear=e=>{K.length&&(e?(K.forEach((e=>{e.clear()})),K=[]):R?K.shift().clear():K[0].clear())},q.setDefaultOptions=function(e,t){"string"==typeof e?H[e]=t:n(G,e)},q.resetDefaultOptions=e=>{"string"==typeof e?H[e]=null:(G=n({},D),H={})},q.allowMultiple=(e=!0)=>{R=e},q.install=e=>{e.use(u(I)),e.config.globalProperties.$toast=q};var J={name:"SlotItem",components:{CompRender:g({name:"CompRender",props:{element:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})}},setup:e=>()=>e.config.componentMap[e.element.componentKey].render({size:{},props:e.element.props||{},model:{},block:e.element,custom:{}})})},props:{element:{type:[Object,Array],default:()=>({})},config:{type:Object,default:()=>({})}}};J.render=function(e,n,t,o,l,i){var r;const a=_("slot-item",!0),s=_("comp-render");return O(),P("div",null,[b(s,{element:t.element,config:t.config},j({_:2},[x(null===(r=t.element.props)||void 0===r?void 0:r.slots,((e,n)=>({name:n,fn:z((()=>[(O(!0),P(T,null,x(null==e?void 0:e.children,(e=>(O(),P(a,{key:e._vid,element:e,config:t.config},null,8,["element","config"])))),128))]))})))]),1032,["element","config"])])};e("default",g({name:"Preview",components:{SlotItem:J},setup(){var e;const n=JSON.parse(localStorage.getItem(N.PAGE_DATA_KEY));n&&Object.keys(n.pages)||q.fail("当前没有可以预览的页面！");const t=B.currentRoute,o=v({currentPage:null===(e=n.pages[t.value.path])||void 0===e?void 0:e.blocks});o.currentPage||B.replace("/");const l=e=>{if(Array.isArray(e))return e.map((e=>l(e)));return p.componentMap[e.componentKey].render({size:{},props:e.props||{},block:e,model:{},custom:{}})};return{...A(o),visualConfig:p,renderCom:l}}})).render=function(e,n,t,o,l,i){const r=_("slot-item");return O(!0),P(T,null,x(e.currentPage,(n=>(O(),P(r,{key:n._vid,element:n,config:e.visualConfig},null,8,["element","config"])))),128)}}}}));
